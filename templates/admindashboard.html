{% extends "layout.html" %}
{% block title %} ADMINISTRATION {% endblock title %}
{% block nav %}
<ul class="navbar-nav ms-auto">
    <li class="nav-item">
        <a href="{{ url_for('adminLogin') }}" class="nav-link">
            <i class="fa fa-sign-out" aria-hidden="true"></i>
            Logout
        </a>
    </li>
</ul>
{% endblock nav %}
{% block appbody %}
<!-- ADMIN DASHBOARD -->
<h6 class="mt-3 text-center border-bottom pb-2">Admin Dashboard!</h6>
<div class="container">
    <form action="{{ url_for('download_applicants_list') }}">
         <select name="x"  class="form-select">
            <option selected disabled>Select Format to Download</option>
            <option value="PDF">PDF</option>
            <option value="Shreadsheet">Shreadsheet</option>
         </select>
        <button class="btn btn-danger mt-2" type="submit">
            <i class="fa fa-download" aria-hidden="true"></i>
            Download
        </button>
    </form>
    <table class="table">
        <thead>
            <tr>
                <th>#</th>
                <th>Firstname</th>
                <th>Surname</th>
                <th>ID</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for applicant in applicants %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ applicant.firstname }}</td>
                    <td>{{ applicant.surname }}</td>
                    <td>{{ applicant.idNo }}</td>
                    <td class="text-danger">Registered</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
    let downloadOption = document.getElementsByClassName('form-select')[0];
    let form = document.forms[0];
    form.addEventListener('submit', ()=> {
        console.log(downloadOption.value)
    })
</script>
{% endblock appbody %}